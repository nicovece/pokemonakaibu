let pokemonRepository=function(){let e=[];function t(t){"object"==typeof t&&"name"in t&&"detailsUrl"in t&&e.push(t)}function n(e){o(e).then((function(){!function(e){let t=document.querySelector("#pokemodal__container"),n=t.querySelector(".modal-body"),o=t.querySelector(".modal-title");o.innerText="",n.innerText="",o.classList.add("pokemodal__name"),o.innerText=e.name;let i=document.createElement("span");i.classList.add("pokemodal__id"),i.innerText=e.id,o.appendChild(i);let l=document.createElement("div");l.classList.add("pokemodal__image__wrapper"),n.appendChild(l);let a=document.createElement("img");a.classList.add("pokemodal__image"),a.src=e.imageUrl,l.appendChild(a);let d=document.createElement("div");d.classList.add("pokemodal__data"),n.appendChild(d);let s=document.createElement("h2");s.innerText="Profile",d.appendChild(s);let c=document.createElement("ul");c.classList.add("pokemodal__profile"),d.appendChild(c);let r=document.createElement("li");r.innerText="Height: "+e.height,c.appendChild(r);let m=document.createElement("li");m.innerText="Weight: "+e.weight,c.appendChild(m);let p=document.createElement("h2");p.innerText="Types",d.appendChild(p);let u=document.createElement("ul");u.classList.add("pokemodal__types"),d.appendChild(u),e.types.forEach((e=>{let t=document.createElement("li");t.innerText=e.type.name,u.appendChild(t)}));let h=document.createElement("h2");h.innerText="Abilities",d.appendChild(h);let f=document.createElement("ul");f.classList.add("pokemodal__abilities"),d.appendChild(f),e.abilities.forEach((e=>{let t=document.createElement("li");t.innerText=e.ability.name,f.appendChild(t)}))}(e)}))}function o(e){i();let t=e.detailsUrl;return fetch(t).then((function(e){return l(),e.json()})).then((function(t){e.imageUrl=t.sprites.other["official-artwork"].front_default,e.height=t.height,e.weight=t.weight,e.types=t.types,e.abilities=t.abilities,e.id=t.id,l()})).catch((function(e){l()}))}function i(){document.querySelector(".pokelist__message").classList.add("pokelist__message--loading"),document.body.classList.add("is-loading")}function l(){document.querySelector(".pokelist__message").classList.remove("pokelist__message--loading"),document.body.classList.remove("is-loading")}return searchInput.addEventListener("input",(function(){!function(){let e=document.querySelector("#searchInput").value.toLowerCase();document.querySelectorAll(".pokelist__item").forEach((function(t){t.getAttribute("data-name").toLowerCase().indexOf(e)>-1?t.classList.remove("d-none"):t.classList.add("d-none")}))}()})),function(){let e=document.createElement("div");e.classList.add("pokelist__message"),document.body.appendChild(e);let t=document.createElement("h4");e.appendChild(t);let n=document.createElement("span");n.innerText="Loading PokÃ©mon List",t.appendChild(n)}(),{add:t,getAll:function(){return e},addListItem:function(e){let t=document.querySelector(".pokelist"),o=document.createElement("li");o.classList.add("list-group-item","pokelist__item","col-6","col-md-4","col-lg-3","col-xl-2","border-0","p-3","m-0","d-grid","bg-transparent",e.name),o.setAttribute("data-name",e.name),t.appendChild(o),o.appendChild(function(e){let t=document.createElement("button");var o=e.detailsUrl.split("/");let i=o[o.length-2],l="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/"+i+".png";fetch(l).then((function(e){if(!e.ok)throw new Error("Not 2xx response ",{cause:e});t.style.backgroundImage=`url(${l})`})).catch((function(e){}));let a=document.createElement("span");return a.innerText=e.name,a.classList.add("pokelist__name"),t.appendChild(a),t.classList.add("btn","btn-outline-primary","btn-lg","pokelist__button"),t.setAttribute("type","button"),t.setAttribute("data-bs-toggle","modal"),t.setAttribute("data-bs-target","#pokemodal__container"),t.setAttribute("data-pokemon-id",i),t.addEventListener("click",(function(){n(e)})),t}(e))},showDetails:n,loadList:function(e=0){i();let n=Math.min(18,maxPokemons-e);return fetch(`https://pokeapi.co/api/v2/pokemon/?limit=${n}&offset=${e}`).then((function(e){return l(),e.json()})).then((function(e){e.results.forEach((function(e){t({name:e.name,detailsUrl:e.url})}))})).catch((function(e){}))},loadDetails:o}}(),offset=0,maxPokemons=150;pokemonRepository.loadList(offset).then((function(){pokemonRepository.getAll().forEach((function(e){pokemonRepository.addListItem(e)}))}));var scrollDebounce=!0;window.addEventListener("scroll",(()=>{window.innerHeight+window.scrollY>=document.body.offsetHeight-50&&scrollDebounce&&offset<maxPokemons&&(scrollDebounce=!1,offset+=18,pokemonRepository.loadList(offset).then((function(){pokemonRepository.getAll().slice(offset).forEach((function(e){pokemonRepository.addListItem(e)}))})),setTimeout((function(){scrollDebounce=!0}),500))}));